"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{1379:function(e,t,a){var s=a(5893);a(7294),t.Z=function(e){let{text:t,openConfirmation:a}=e;return(0,s.jsx)("button",{onClick:a,className:"inline-flex py-2 px-10  items-center text-center shadow-sm shadow-black/40 border-2 border-red-900 text-lg font-bold text-cool-gray-200  bg-red-800 hover:bg-red-700 transition duration-200 rounded-lg",children:t})}},827:function(e,t,a){a.d(t,{Z:function(){return r}});var s=a(5893);function r(e){let{label:t,type:a,placeHolder:r,name:l,state:n,setState:i}=e;return console.log(n),(0,s.jsxs)("div",{className:"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-cool-gray-900 border-opacity-10",children:[(0,s.jsx)("div",{className:"w-full sm:w-1/3 px-4 mb-4 sm:mb-0",children:(0,s.jsx)("span",{className:"text-md font-medium text-cool-gray-500",children:t})}),(0,s.jsx)("div",{className:"w-full sm:w-2/3 px-4",children:(0,s.jsx)("div",{className:"max-w-xl",children:(0,s.jsx)("div",{className:"flex flex-wrap items-center -mx-3",children:(0,s.jsx)("div",{className:"w-full px-3 mb-3 sm:mb-0",children:(0,s.jsx)("input",{value:null!=n?n:"",name:l,className:"block text-md placeholder:text-gray-700 py-4 px-3 w-full text-sm text-cool-gray-200 placeholder-cool-gray-200 font-medium outline-none bg-transparent border border-raisin-black-lighter hover:border-cool-gray-900 focus-within:border-carolina-blue rounded-lg",type:a,placeholder:r,onChange:e=>i&&i(t=>({...t,[l]:e.target.value}))})})})})})]})}},2838:function(e,t,a){var s=a(5893);a(7294),t.Z=function(e){let{type:t,text:a,clickHandle:r}=e;return(0,s.jsx)("button",{type:t||"button",className:"inline-flex py-2 px-10  items-center text-center shadow-sm shadow-black/40 border-2 border-yinmn-blue-900 text-lg font-bold text-cool-gray-200 bg-yinmn-blue-500 hover:bg-yinmn-blue-200 transition duration-200 rounded-lg",onClick:r,children:a})}},1104:function(e,t,a){a.d(t,{Z:function(){return c}});var s=a(5893),r=a(4080),l=a(1479),n=a(7294),i=a(2838),o=function(e){let{type:t,text:a,clickHandle:r}=e;return(0,s.jsx)("button",{type:t||"button",className:"inline-flex py-2 px-10  items-center text-center shadow-sm shadow-black/40 border-2 border-raisin-black-lighter text-lg font-bold text-raisin-black-lighter bg-cool-gray-900 hover:bg-cool-gray-500 transition duration-200 rounded-lg",onClick:r,children:a})},c=function(e){let{text:t,isOpen:a,closeModal:c,deleteAction:d}=e;return(0,s.jsx)(r.u,{show:a,as:n.Fragment,children:(0,s.jsxs)(l.V,{as:"div",className:"relative z-20",onClose:c,children:[(0,s.jsx)(r.u.Child,{as:n.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,s.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,s.jsx)(r.u.Child,{as:n.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)(l.V.Panel,{className:"w-full max-w-lg text-center transform overflow-hidden rounded-2xl bg-raisin-black-light border-raisin-black-lighter border p-8  align-middle shadow-xl transition-all",children:[(0,s.jsxs)(l.V.Title,{as:"h3",className:"text-xl font-medium leading-6 text-cool-gray-200 ",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#ef4444",className:" h-14 mx-auto mb-3 shadow-sm",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),t]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Essa \xe9 uma a\xe7\xe3o irrevers\xedvel, de modo que uma vez realizada, n\xe3o poder\xe1 ser revertida."})}),(0,s.jsxs)("div",{className:"mt-6 space-x-5",children:[(0,s.jsx)(i.Z,{text:"Sim",clickHandle:d}),(0,s.jsx)(o,{text:"N\xe3o",clickHandle:c})]})]})})})})]})})}},8453:function(e,t,a){a.d(t,{Z:function(){return r}});var s=a(5893);function r(e){let{title:t,subtitle:a}=e;return(0,s.jsx)("div",{className:"px-8 pt-8 pb-2",children:(0,s.jsx)("div",{className:"pb-6 border-b border-cool-gray-900",children:(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between -mx-4",children:(0,s.jsxs)("div",{className:"w-full md:w-1/2 lg:w-auto px-4 mb-6 md:mb-0",children:[(0,s.jsx)("h4",{className:"text-3xl font-bold text-cool-gray-200 tracking-wide leading-6 mb-2",children:t}),(0,s.jsx)("p",{className:"text-md leading-5 text-cool-gray-500",children:a})]})})})})}},8347:function(e,t,a){var s=a(5893),r=a(7294),l=a(827),n=a(6858),i=a(1163),o=a(8767),c=a(1104),d=a(2838),u=a(1379),m=a(1614);t.Z=function(e){let{user:t}=e,a=(0,i.useRouter)(),x=(0,m.Z)(),[p,h]=(0,r.useState)(!1),[f,b]=(0,r.useState)({id:(null==t?void 0:t.id)||void 0,name:(null==t?void 0:t.name)||"",email:(null==t?void 0:t.email)||"",phone:(null==t?void 0:t.phone)||"",cpf:(null==t?void 0:t.cpf)||"",password:"",confirmPassword:""}),g=(0,o.useMutation)({mutationFn:n.Z.updateById,onSuccess:()=>{a.push("/admin/usuarios?updated=true")}}),v=(0,o.useMutation)({mutationFn:n.Z.delete,onSuccess:()=>{a.push("/admin/usuarios?deleted=true")}});async function w(e){if(e.preventDefault(),t)null==f||delete f.password,null==f||delete f.confirmPassword,g.mutate(f);else if(f.name){if(f.password){if(f.password!==f.confirmPassword)x("As senhas precisam ser iguais");else{let e=await n.Z.register(f);e&&a.push("/admin/usuarios?saved=true")}}else x("\xc9 necess\xe1rio informar uma senha")}else x("\xc9 preciso informar ao menos o nome do paciente")}function y(){h(!1)}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{text:"Tem certeza que deseja apagar o usu\xe1rio?",isOpen:p,closeModal:y,deleteAction:function(){y(),v.mutate(null==t?void 0:t.id)}}),(0,s.jsx)("section",{className:"py-3 mt-3",children:(0,s.jsx)("div",{className:"container px-4 mx-auto",children:(0,s.jsxs)("div",{className:"p-10 bg-raisin-black rounded-lg",children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between -mx-4 mb-8 pb-6 border-b border-gray-400 border-opacity-20",children:(0,s.jsxs)("div",{className:"w-full sm:w-auto px-4 mb-6 sm:mb-0",children:[(0,s.jsx)("h4",{className:"text-2xl font-bold tracking-wide text-cool-gray-200 mb-1",children:"Informa\xe7\xf5es Pessoais"}),t?(0,s.jsx)("p",{className:"text-sm text-cool-gray-500",children:"Edite as informa\xe7\xf5es pessoais do usu\xe1rio acima."}):(0,s.jsx)("p",{className:"text-sm text-cool-gray-500",children:"Preencha as informa\xe7\xf5es pessoais do novo usu\xe1rio."})]})}),(0,s.jsxs)("form",{children:[(0,s.jsx)(l.Z,{state:f.name,setState:b,name:"name",label:"Nome",type:"text",placeHolder:"Digite o nome do novo usu\xe1rio..."}),(0,s.jsx)(l.Z,{state:f.email,setState:b,name:"email",label:"Email",type:"email",placeHolder:"Digite o email do novo usu\xe1rio..."}),(0,s.jsx)(l.Z,{state:f.phone,setState:b,name:"phone",label:"Telefone",type:"tel",placeHolder:"Digite o telefone do novo usu\xe1rio..."}),(0,s.jsx)(l.Z,{state:f.cpf,setState:b,name:"cpf",label:"CPF",type:"text",placeHolder:"Digite o CPF do novo usu\xe1rio..."}),t?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between -mx-4 mb-8 pb-6 mt-12 border-b border-gray-400 border-opacity-20",children:(0,s.jsx)("div",{className:"w-full sm:w-auto px-4 mb-6 sm:mb-0",children:(0,s.jsx)("h4",{className:"text-2xl font-bold tracking-wide text-cool-gray-200 mb-1",children:"Senha"})})}),(0,s.jsx)(l.Z,{state:f.password,setState:b,name:"password",label:"Senha",type:"password",placeHolder:"Digite a senha do novo usu\xe1rio"}),(0,s.jsx)(l.Z,{state:f.confirmPassword,setState:b,name:"confirmPassword",label:"Repita a Senha",type:"password",placeHolder:"Repita a senha do novo usu\xe1rio"})]}),(0,s.jsxs)("div",{className:"text-right space-x-6",children:[(0,s.jsx)(d.Z,{text:"Salvar",clickHandle:w}),t?(0,s.jsx)(u.Z,{text:"Apagar Usu\xe1rio",openConfirmation:function(e){e.preventDefault(),h(!0)}}):null]})]})]})})})]})}},9583:function(e,t,a){a.d(t,{Z:function(){return s}});class s{static createMany(e){return e.map(e=>{let{id:t,name:a,email:r,phone:l,cpf:n}=e;return new s(a,r,l,n,t)})}static createFormObject(e){let{id:t,name:a,email:r,phone:l,cpf:n}=e;return new s(a,r,l,n,t)}get userLink(){return"/admin/usuarios/".concat(this.id)}get userEditLink(){return"/admin/usuarios/editar/".concat(this.id)}constructor(e,t,a,s,r){this.name=e,this.email=t,this.phone=a,this.cpf=s,this.id=r}}},1614:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(5893),r=a(4106);function l(){let{toast:e}=(0,r.pm)();return function(t){e({title:(0,s.jsxs)("div",{className:"flex w-full space-x-3  justify-start items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#ef4444",className:" h-6 shadow-sm",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),(0,s.jsx)("h2",{className:" text-cool-gray-200",children:"Ocorreu um Erro!"})]}),description:(0,s.jsx)("p",{className:"text-cool-gray-500",children:t})})}}},6858:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(6154),r=a(9583);class l{static async register(e){let t=await s.Z.post("/api/register",e);return 200===t.status}static async getAll(){try{let e=await s.Z.get("/api/usuarios");return r.Z.createMany(e.data)}catch(e){console.log(e)}}static async getById(e){try{let t=await s.Z.get("/api/usuarios/".concat(e));return t.data}catch(e){console.log(e)}}static async updateById(e){try{let t=await s.Z.patch("/api/usuarios/".concat(e.id),e);return t.data}catch(e){console.log(e)}}static async delete(e){try{if(e){let t=await s.Z.delete("/api/usuarios/".concat(e));return t.data}}catch(e){console.log(e)}}}}}]);